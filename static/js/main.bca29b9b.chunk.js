(this["webpackJsonpreact-kabzda-1"]=this["webpackJsonpreact-kabzda-1"]||[]).push([[1],{11:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(82),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"35086c75-b096-4bcf-9631-0257dc2ea2c7"}}),s={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))},getProfile:function(e){return console.log("Obsolete method. Please use profileAPI object"),c.getProfile(e)}},i={me:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}},c={getProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status/",{status:e})}}},139:function(e,t,n){},140:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),s=n.n(a),i=n(45),c=n.n(i),u=(n(139),function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,293)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))}),o=n(27),l=n(28),f=n(31),d=n(30),b=(n(140),n(9)),g=n.n(b),p=n(8),h=function(){return Object(r.jsxs)("nav",{className:g.a.nav,children:[Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(p.b,{to:"/profile",activeClassName:g.a.active,children:"Profile"})}),Object(r.jsx)("div",{className:"".concat(g.a.item," ").concat(g.a.active),children:Object(r.jsx)(p.b,{to:"/dialogs",activeClassName:g.a.active,children:"Messages"})}),Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(p.b,{to:"/users",activeClassName:g.a.active,children:"Users"})}),Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(p.b,{to:"/new",activeClassName:g.a.active,children:"News"})}),Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(p.b,{to:"/music",activeClassName:g.a.active,children:"Music"})}),Object(r.jsx)("div",{className:g.a.item,children:Object(r.jsx)(p.b,{to:"/settings",activeClassName:g.a.active,children:"Settings"})})]})},j=n(6),O=n(19),m=n(7),v=n.n(m),x=n(17),C=n(32),w=n(3),A=n(11),P=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(w.a)(Object(w.a)({},e),r):e}))},I="FOLLOW",E="UNFOLLOW",S="SET_USERS",F="SET_CURRENT_PAGE",N="SET_TOTAL_USERS_COUNT",y="TOGGLE_IS_FETCHING",k="TOGGLE_IS_FOLLOWING_PROGRESS",D={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},V=function(e){return{type:I,userId:e}},X=function(e){return{type:E,userId:e}},T=function(e){return{type:F,currentPage:e}},U=function(e){return{type:y,isFetching:e}},W=function(e,t){return{type:k,followingInProgress:e,userId:t}},z=function(){var e=Object(x.a)(v.a.mark((function e(t,n,r,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(W(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(W(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Y=n(80),H=n(47),K=n.n(H),q=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);var i=Math.ceil(t/e.pageSize),c=Object(a.useState)(1),u=Object(Y.a)(c,2),o=u[0],l=u[1],f=(o-1)*e.pageSize+1,d=o*e.pageSize;return Object(r.jsxs)("div",{className:K.a.paginator,children:[o>1&&Object(r.jsx)("button",{onClick:function(){return l(o-1)},children:"PREV"}),n.filter((function(e){return e>=f&&e<=d})).map((function(t){return Object(r.jsxs)("span",{className:e.currentPage===t?K.a.selectedPage:K.a.pageNumber,onClick:function(){e.onPageChanged(t)},children:[" ",t," "]},t)})),i>o&&Object(r.jsx)("button",{onClick:function(){return l(o+1)},children:"NEXT"})]})},M=n(83),L=n.n(M),R=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:Object(r.jsx)(p.b,{to:"/profile/"+e.user.id,children:Object(r.jsx)("img",{alt:"waiting",src:null!=e.user.photos.small?e.user.photos.small:"data:image/png;base64,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",className:L.a.userPhoto})})}),Object(r.jsx)("div",{children:e.user.followed?Object(r.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollow(e.user.id)},children:"Unfollow"}):Object(r.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.follow(e.user.id)},children:"Follow"})})]}),Object(r.jsxs)("span",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:e.user.name}),Object(r.jsx)("div",{children:e.user.status})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:"u.location.city"}),Object(r.jsx)("div",{children:"u.location.country"})]})]})]})},B=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(q,{currentPage:e.currentPage,pageSize:e.pageSize,onPageChanged:e.onPageChanged,totalItemsCount:e.totalUsersCount}),Object(r.jsx)("div",{children:e.users.map((function(t){return Object(r.jsx)(R,{user:t,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow},t.id)}))})]})},Q=n(24),G=n(21),Z=n(84),J=function(e){return e.usersPage.isFetching},_=Object(Z.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),$=function(e){return e.usersPage.pageSize},ee=function(e){return e.usersPage.totalUsersCount},te=function(e){return e.usersPage.currentPage},ne=function(e){return e.usersPage.followingInProgress},re=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).onPageChanged=function(e){var t=r.props,n=t.getUsers,a=t.pageSize,s=t.setCurrentPage;n(e,a),s(e)},r.state={asd:0},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;(0,e.getUsers)(t,n)}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[this.props.isFetching?Object(r.jsx)(Q.a,{}):null,Object(r.jsx)(B,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress})]})}}]),n}(s.a.Component),ae=Object(G.d)(Object(O.b)((function(e){return{users:_(e),pageSize:$(e),totalUsersCount:ee(e),currentPage:te(e),isFetching:J(e),followingInProgress:ne(e)}}),{follow:function(e){return function(t){var n=A.c.follow.bind(A.c);z(t,e,n,V)}},unfollow:function(e){return function(t){var n=A.c.unfollow.bind(A.c);z(t,e,n,X)}},setCurrentPage:T,toggleIsFollowingInProgress:W,getUsers:function(e,t){return function(){var n=Object(x.a)(v.a.mark((function n(r){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(U(!0)),r(T(e)),n.next=4,A.c.getUsers(e,t);case 4:a=n.sent,r(U(!1)),r((i=a.items,{type:S,users:i})),r((s=a.totalCount,{type:N,count:s}));case 8:case"end":return n.stop()}var s,i}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(re),se=n(57),ie=n.n(se),ce=function(e){return Object(r.jsxs)("header",{className:ie.a.header,children:[Object(r.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgPIy0hwSFb9IsEugadxiIDd1Mvp5DYDT2Vw&usqp=CAU"}),Object(r.jsx)("div",{className:ie.a.loginBlock,children:e.isAuth?Object(r.jsxs)("div",{children:[e.login," ",Object(r.jsx)("button",{onClick:e.logout,children:"Log out"})]}):Object(r.jsx)(p.b,{to:"/login",children:"Login"})})]})},ue=n(29),oe=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)(ce,Object(w.a)(Object(w.a)({},this.props),{},{isAuth:this.props.isAuth,login:this.props.login,userId:this.props.userId,email:this.props.email,logout:this.props.logout}))}}]),n}(s.a.Component),le=Object(j.f)(oe),fe=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,email:e.auth.email,userId:e.auth.userId}}),{logout:ue.d})(le),de="INITIALIZED_SUCCESS",be={initialized:!1},ge=n(60),pe=n(74),he={},je=n(85),Oe=n(81),me=Object(G.c)({profilePage:ge.d,dialogsPage:pe.a,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(w.a)(Object(w.a)({},e),{},{users:P(e.users,t.userId,"id",{followed:!0})});case E:return Object(w.a)(Object(w.a)({},e),{},{users:P(e.users,t.userId,"id",{followed:!1})});case S:return Object(w.a)(Object(w.a)({},e),{},{users:t.users});case F:return Object(w.a)(Object(w.a)({},e),{},{currentPage:t.currentPage});case N:return Object(w.a)(Object(w.a)({},e),{},{totalUsersCount:t.count});case y:return Object(w.a)(Object(w.a)({},e),{},{isFetching:t.isFetching});case k:return Object(w.a)(Object(w.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(C.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},auth:ue.a,form:Oe.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(w.a)(Object(w.a)({},e),{},{initialized:!0});default:return e}}}),ve=Object(G.e)(me,Object(G.a)(je.a)),xe=function(e){return function(t){return Object(r.jsx)(s.a.Suspense,{fallback:Object(r.jsx)(Q.a,{}),children:Object(r.jsx)(e,Object(w.a)({},t))})}},Ce=s.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,296)).then((function(e){return{default:e.DialogsContainer}}))})),we=s.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,295)).then((function(e){return{default:e.ProfileContainer}}))})),Ae=s.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,294)).then((function(e){return{default:e.LoginContainer}}))})),Pe=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(fe,{}),Object(r.jsx)(h,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(j.b,{path:"/dialogs",render:function(){return Object(r.jsx)(s.a.Suspense,{fallback:Object(r.jsx)(Q.a,{}),children:Object(r.jsx)(Ce,{})})}}),Object(r.jsx)(j.b,{path:"/profile/:userId?",render:xe(we)}),Object(r.jsx)(j.b,{path:"/users",render:function(){return Object(r.jsx)(ae,{})}}),Object(r.jsx)(j.b,{path:"/login",render:xe(Ae)})]})]}):Object(r.jsx)(Q.a,{})}}]),n}(s.a.Component),Ie=Object(G.d)(j.f,Object(O.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(ue.b)());Promise.all([t]).then((function(){e({type:de})}))}}}))(Pe),Ee=function(e){return Object(r.jsx)(p.a,{basename:"/Social-Network",children:Object(r.jsx)(O.a,{store:ve,children:Object(r.jsx)(Ie,{})})})};c.a.render(Object(r.jsx)(Ee,{}),document.getElementById("root")),u()},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),a=(n(0),n.p+"static/media/preloader.29181c59.gif"),s=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("img",{src:a})})}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return p}));var r=n(7),a=n.n(r),s=n(17),i=n(3),c=n(11),u=n(48),o="auth/SET_USER_DATA",l={userId:null,email:null,login:null,isAuth:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(i.a)(Object(i.a)({},e),t.payload);default:return e}},d=function(e,t,n,r){return{type:o,payload:{userId:e,email:t,login:n,isAuth:r}}},b=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r,s,i,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,i=r.email,u=r.login,t(d(s,i,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e,t,n){return function(){var r=Object(s.a)(a.a.mark((function r(s){var i,o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.login(e,t,n);case 2:0===(i=r.sent).data.resultCode?s(b()):(o=i.data.messages.length>0?i.data.messages[0]:"Some error",s(Object(u.a)("login",{_error:o})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},p=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.logout();case 2:0===e.sent.data.resultCode&&t(d(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},47:function(e,t,n){e.exports={paginator:"Paginator_paginator__3YxId",pageNumber:"Paginator_pageNumber__2th95",selectedPage:"Paginator_selectedPage__VwPbc"}},57:function(e,t,n){e.exports={header:"Header_header__ReOq3",loginBlock:"Header_loginBlock__1btCq"}},60:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return m}));var r=n(7),a=n.n(r),s=n(17),i=n(32),c=n(3),u=n(11),o="ADD-POST",l="SET-USER-PROFILE",f="SET_STATUS",d="DELETE_POST",b={posts:[{id:1,message:"Hi, how are you?",likesCount:5},{id:2,message:"It's my first post",likesCount:23},{id:3,message:"It's my second post",likesCount:1},{id:4,message:"blabla",likesCount:15}],profile:null,status:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:5,message:t.newPostText,likesCount:0};return Object(c.a)(Object(c.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[n])});case l:return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});case f:return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case d:return Object(c.a)(Object(c.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});default:return e}},p=function(e){return{type:o,newPostText:e}},h=function(e){return{type:f,status:e}},j=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:l,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:r=t.sent,n(h(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(h(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},74:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(32),a=n(3),s="SEND-MESSAGE",i={messages:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}],dialogs:[{id:1,name:"Fedor"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=t.newMessageBody;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}},u=function(e){return{type:s,newMessageBody:e}}},83:function(e,t,n){e.exports={userPhoto:"User_userPhoto__ZDHEy"}},9:function(e,t,n){e.exports={nav:"Navbar_nav__1NAUe",item:"Navbar_item__cWNDN",active:"Navbar_active__3-_Qd"}}},[[224,2,3]]]);
//# sourceMappingURL=main.bca29b9b.chunk.js.map